# PCB와 Context Switching

## PCB
> 운영체제가 프로세스에 대한 정보를 저장하는 곳

PCB(Process Control Block)는 운영체제가 프로세스에 관한 모든 정보(메타데이터)를 가지고 있는 데이터베이스이다.

프로세스가 생성될 때마다 고유의 PCB가 생성되고, 프로세스가 완료되면 PCB는 제거된다.
+ 프로그램 실행 -> 프로세스 생성 -> PCB 생성 -> 해당 프로세스의 메타데이터 PCB에 저장

<br>

#### PCB가 가지고 있는 프로세스 메타 데이터
- 프로세스의 상태(ex . 준비, 대기, 실행)
- 프로세스 고유 식별자
- 프로세스의 우선 순위
- CPU 정보
- 주기억장치 정보

<br>

#### PCB가 필요한 이유?

CPU는 프로세스의 상태에 따라서 교체작업을 하기 때문에 프로세스가 CPU를 점유하여 실행하다가도 상태가 바뀌면 전환해주어야한다. 
<br>
이 때, CPU가 작업하던 작업의 내용들을 PCB에 저장해놓아야 나중에 다시 CPU를 점유하여 작업을 할 때 하던 작업을 이어할 수 있다.

<br>

## Context Switching
> 수행 중인 프로세스를 변경할 때, CPU의 레지스터 정보가 변경되는 것

CPU 스케쥴러가 자원을 할당할 프로세스를 전환하기 위해, 기존 수행 중인 프로세스의 상태를 PCB에 저장하고 새로운 프로세스의 정보를 PCB에서 읽어 레지스터에 적재하는 과정이다.

<br>

#### Context Switching의 OverHead

Context switching 중에는 프로세스가 CPU의 자원을 점유는 하지만 사용중인 상태가 아니다. 따라서, context switching 이 너무 자주 일어나면 오히려 CPU의 성능이 떨어진다.
+ 즉, CPU 자원을 아무 프로세스도 사용하지 못하고 있는 오버헤드가 발생한다.

