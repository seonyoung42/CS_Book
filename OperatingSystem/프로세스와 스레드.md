# 프로세스와 스레드

<br>

> **프로세스** : 메모리에 올려져서 실행 중인 프로그램
>
> **스레드** : 프로세스 내 작업의 흐름, 프로세스가 할당받은 자원을 이용하는 실행 흐름의 단위

<br>


## 프로세스
<br>

> 메모리에 올려져서 실행 중인 프로그램

프로세스란 컴퓨터에서 실행되고 있는 컴퓨터 프로그램으로 운영체제로부터 시스템 자원을 할당받는 작업의 단위이다.

<br>

### 프로세스 구조와 특징
![process](https://user-images.githubusercontent.com/77603632/237010410-6ecdc6b1-8497-4578-9260-d3de82ccf29b.png)
- 각 프로세스는 각각 독립된 메모리 영역을 가진다
    - Code : 코드 자체를 구성하는 메모리 영역
    - Data : 전역변수, 정적변수, 배열 등
    - Heap : 동적 할당 시 사용
    - Stack : 지역변수, 매개변수, 리턴 값
- 프로세스끼리 서로 다른 프로세스의 변수나 자료구조에 접근할 수 없다
    - 한 프로세스가 다른 프로세스의 자원에 접근하려면 프로세스 간의 통신(IPC : inter-process-communication)을 사용해야한다
- 하나의 프로세스가 생성될 때, 기본적으로 하나의 스레드(메인 스레드)가 같이 생성된다

<br>

## 스레드
<br>

> 프로세스 내 작업의 흐름, 프로세스가 할당받은 자원을 이용하는 실행 흐름의 단위 

스레드는 한 프로세스 내에서 실행되는 여러 실행 흐름의 단위로 프로세스가 할당받은 자원을 이용하는 실행의 단위이다.

<br>

### 스레드 구조와 특징
![thread](https://user-images.githubusercontent.com/77603632/237012162-c61250dc-b5ef-4360-8c20-07328c24c6aa.png)
- 스레드는 프로세스 내에서 Stack 만 각각 할당 받고, code, data, heap 영역은 공유한다
- 같은 프로세스 안에 있는 여러 스레드들은 code, data, heap 영역은 공유하기 때문에 프로세스 자원을 변경하면 다른 이웃 스레드도 그 변경 결과를 즉시 볼 수 있다

<br>

## 프로세스와 스레드의 차이
- 자원의 공유
    - 프로세스는 서로 자원을 공유하지 않지만
    - 스레드는 stack 영역을 제외하고 code, heap, data 영역 공유한다
- ⇒ 만약 다른 프로세스나 스레드가 오류로 종료하게 되는 경우, 프로세스는 전혀 영향이 없지만 스레드는 같은 프로세스 내의 모든 스레드가 종료된다.
