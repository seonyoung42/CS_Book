# DB Key
> DB에서 조건을 만족하는 튜플을 찾거나 정렬할 때, 다른 튜플들과 구별하는 기준이 되는 속성(attribute)

<br>

## DB Key의 종류

![R1280x0-10](https://github.com/seonyoung42/CS_Book/assets/77603632/86685df1-60b4-43bf-be2c-5fbea43a5d45)

### DB Key 속성
#### 유일성
> 하나의 키값으로 튜플을 유일하게 식별할 수 있는 성질
+ ex) 어떤 릴레이션에 [주민번호, 나이, 사는 곳, 혈액형] 이라는 속성이 존재한다면, 나이, 사는 곳, 혈액형 은 모두 충분히 중복될 수 있는 속성이기에 중복될 수 없는 **주민번호가 키로 지정**된다. 

#### 최소성
> 키를 구성하는 속성들 중 가장 최소로 필요한 속성들로만 키를 구성하는 성질
> 
> 키를 구성하고 있는 속성들이 진짜 각 튜플을 구분하는 데 꼭 필요한 속성들로만 구성되어 있는지를 의미
+ ex) 위와 같이 [주민번호, 나이, 사는 곳, 혈액형] 릴레이션에서 (주민번호, 나이) 가 키로 지정이 되어 있다면 이 키로 각 튜플을 구분할 수 있지만 주민번호만으로도 구분할 수 있기 때문에 (주민번호, 나이) 로 지정된 키는 최소성을 만족하지 않는다.

<br>

### 슈퍼키
> 유일성은 만족하지만 최소성은 만족하지 않는 속성 또는 속성들의 집합

+ 예를 들어,
  + (고객 아이디) ⇒ 슈퍼키 가능
  - (직업, 나이, 등급) ⇒ 슈퍼키 불가능
      - 충준히 중복될 수 있기 때문
  - (고객 아이디, 직업, 나이, 등급)  ⇒ 슈퍼키 가능

<br>

### 후보키
> 슈퍼키 중 최소성을 만족하는, 즉 유일성과 최소성을 모두 만족하는 속성 또는 속성들의 집합

+ 예를 들어,
  - (고객 아이디, 직업, 나이, 등급) ⇒ 후보키 불가능
      - 튜플을 유일하게 식별할 수 있지만 (직업, 나이, 등급)가 중복되는 속성값을 가지고 있기 때문
  - (고객 아이디) ⇒ 후보키 가능

<br>

### 기본키 
> 후보키 중 선택 기준을 통과하여 선택된 키

#### 선택 기준
+ NULL 값을 가지고 있지 않음
+ 값이 자주 변경될 수 있는 속성이 포함되어 있지 않음
+ 단순한 후보키를 기본키로 선택


<br>

### 대체키
> 후보 키 중 선택 기준에 부합하지 못해 선택받지 못한 키

+ 대체키는 기본키를 대신할 수 있는 자격을 가지며 '보조키' 라고도 불린다.

<br>

### 외래키
> 다른 릴레이션의 기본키를 그대로 참조하는 속성 또는 속성들의 집합

예를 들어, 아래의 고객, 주문 릴레이션이 각각 있다고 할 때, 
+ 고객 [고객 아이디, 고객 이름, 나이, 등급, 직업, 적립금]
+ 주문 [주문번호, 주문 고객, 제품, 수량, 단가, 주문 일자]

주문 릴레이션은 고객의 모든 정보를 저장하지 않고 고객 릴레이션에서 튜플을 구분할 수 있는 기본키(고객 아이디)만 가지고 있으면 된다. 

이렇게 고객 릴레이션의 기본키(고객 아이디)를 참조하는 주문 릴레이션의 속성을 외래키(주문 고객)라 한다. 

<br>

## 🙇🏻‍♀️ 참고
https://ggop-n.tistory.com/78

